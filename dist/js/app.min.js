!function(){"use strict";angular.module("numbleApp",["ngRoute","angular-gestures"])}(),function(){"use strict";angular.module("numbleApp").factory("boardService",function(){function e(t){var r=Math.floor(10*Math.random());return-1!==t.indexOf(r)?e(t):r}function t(t){for(var r=[],n=[],u=0;4>=u;u++){r.push([]);for(var o=0;4>=o;o++){var c=e(n);0===c&&n.push(0),r[u][o]={x:u,y:o,display:c,select:t(u,o)}}}return r}function r(e,t){var r=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return 1>=r&&1>=n}return{getBoard:t,areTouching:r}})}(),function(){"use strict";angular.module("numbleApp").controller("GameCtrl",["$scope","$location","$routeParams","stateService","boardService","timeService","selectionService","winService",function(e,t,r,n,u,o,c,a){function l(t,r){return function(){i(e.num[t][r])}}function i(e){var t=n.state;if(c.isValidMove(e,t.selected)){e.selected=!0,t.selected.push(e);var r=t.selected.map(function(e){return e.display}),u=a.check(r);u.forEach(function(e){-1===t.found.indexOf(e)&&(t.found.push(e),t.score+=a.getScore(e),n.undo())})}}o.setAlert(function(){t.url("/results")}),o.startTimer(60),console.log(r.score),e.num=u.getBoard(l),e.state=n.state,e.time=o.getTime,e.undo=n.undo}])}(),function(){"use strict";angular.module("numbleApp").config(["hammerDefaultOptsProvider",function(e){var t={recognizers:[[Hammer.Tap,{time:250}]]};e.set(t)}])}(),function(){"use strict";angular.module("numbleApp").controller("ResultsCtrl",["$scope","$window","stateService","$location",function(e,t,r,n){function u(){r.reset(),n.url("/play")}e.score=r.state.score,e.startOver=u}])}(),function(){"use strict";angular.module("numbleApp").config(["$routeProvider",function(e){e.when("/",{templateUrl:"partials/start.html",controller:"StartCtrl"}).when("/play",{templateUrl:"partials/game.html",controller:"GameCtrl"}).when("/results",{templateUrl:"partials/results.html",controller:"ResultsCtrl"}).otherwise({redirectTo:"/"})}])}(),function(){"use strict";angular.module("numbleApp").factory("selectionService",["boardService",function(e){function t(t,r){return t.selected?!1:!(r.length>0)||e.areTouching(t,r[r.length-1])}return{isValidMove:t}}])}(),function(){"use strict";angular.module("numbleApp").controller("StartCtrl",["$scope","$location",function(e,t){function r(){t.url("/play")}e.start=r}])}(),function(){"use strict";angular.module("numbleApp").factory("stateService",function(){function e(){r.selected.forEach(function(e){e.selected=!1}),r.selected.length=0}function t(){e(),r.found.length=0,r.score=0}var r={selected:[],found:[],score:0};return{undo:e,reset:t,state:r}})}(),function(){"use strict";angular.module("numbleApp").factory("timeService",["$timeout",function(e){function t(){if(o--,0===o)for(;c.length>0;)c.pop()();else e(t,1e3)}function r(r){o=r,e(t,1e3)}function n(){return o}function u(e){c.push(e)}var o,c=[];return{startTimer:r,getTime:n,setAlert:u}}])}(),function(){"use strict";angular.module("numbleApp").factory("winService",function(){function e(e,t,r){return e+t===r}function t(e,t,r){return e*t===r}function r(r){for(var n=r.length,u=n-1,o=[],c=1;u>c;c++)for(var a=u-c;a>0;a--){var l,i,s;l=i=s=0;for(var f=c-1;f>=0;f--)l+=r[c-f-1]*Math.pow(10,f);for(var p=a-1;p>=0;p--)i+=r[a-p-1+c]*Math.pow(10,p);for(var m=a+c;n>m;m++)s+=r[m]*Math.pow(10,n-m-1);e(l,i,s)&&o.push(l+"+"+i+"="+s),t(l,i,s)&&o.push(l+"*"+i+"="+s)}return o}function n(e){switch(e.length-2){case 3:return 1;case 4:return 3;case 5:return 5;case 6:return 10;case 7:return 15;default:return 23}}return{check:r,getScore:n}})}();