!function(){"use strict";angular.module("numbleApp",["ngRoute","angular-gestures"])}(),function(){"use strict";angular.module("numbleApp").factory("boardService",function(){function e(t){var n=Math.floor(10*Math.random());return-1!==t.indexOf(n)?e(t):n}function t(t){for(var n=[],r=[],o=0;4>=o;o++){n.push([]);for(var u=0;4>=u;u++){var c=e(r);0===c&&r.push(0),n[o][u]={x:o,y:u,display:c,select:t(o,u)}}}return n}function n(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return 1>=n&&1>=r}return{getBoard:t,areTouching:n}})}(),function(){"use strict";angular.module("numbleApp").controller("GameCtrl",["$scope","$location","stateService","boardService","timeService","selectionService","winService",function(e,t,n,r,o,u,c){function i(t,n){return function(){l(e.num[t][n])}}function l(e){var t=n.state;if(u.isValidMove(e,t.selected)){e.selected=!0,t.selected.push(e);var r=t.selected.map(function(e){return e.display}),o=c.check(r);o.forEach(function(e){-1===t.found.indexOf(e)&&(t.found.push(e),t.score+=c.getScore(e),n.undo())})}}o.setAlert(function(){t.url("/results")}),o.startTimer(60),e.num=r.getBoard(i),e.state=n.state,e.time=o.getTime,e.undo=n.undo}])}(),function(){"use strict";angular.module("numbleApp").config(["hammerDefaultOptsProvider",function(e){var t={recognizers:[[Hammer.Tap,{time:250}]]};e.set(t)}])}(),function(){"use strict";angular.module("numbleApp").directive("makTouch",function(){return{restrict:"A",link:function(e,t,n){console.log("bound"),console.log(t),t.on("touchenter",function(){alert("entered")})}}})}(),function(){"use strict";angular.module("numbleApp").controller("ResultsCtrl",["$scope","stateService","$location",function(e,t,n){function r(){t.reset(),n.url("/play")}e.score=t.state.score,e.startOver=r}])}(),function(){"use strict";angular.module("numbleApp").config(["$routeProvider",function(e){e.when("/",{templateUrl:"partials/start.html",controller:"StartCtrl"}).when("/play",{templateUrl:"partials/game.html",controller:"GameCtrl"}).when("/results",{templateUrl:"partials/results.html",controller:"ResultsCtrl"}).otherwise({redirectTo:"/"})}])}(),function(){"use strict";angular.module("numbleApp").factory("selectionService",["boardService",function(e){function t(t,n){return t.selected?!1:!(n.length>0)||e.areTouching(t,n[n.length-1])}return{isValidMove:t}}])}(),function(){"use strict";angular.module("numbleApp").controller("StartCtrl",["$scope","$location",function(e,t){function n(){t.url("/play")}e.start=n}])}(),function(){"use strict";angular.module("numbleApp").factory("stateService",function(){function e(){n.selected.forEach(function(e){e.selected=!1}),n.selected.length=0}function t(){e(),n.found.length=0,n.score=0}var n={selected:[],found:[],score:0};return{undo:e,reset:t,state:n}})}(),function(){"use strict";angular.module("numbleApp").factory("timeService",["$timeout",function(e){function t(){if(u--,0===u)for(;c.length>0;)c.pop()();else e(t,1e3)}function n(n){u=n,e(t,1e3)}function r(){return u}function o(e){c.push(e)}var u,c=[];return{startTimer:n,getTime:r,setAlert:o}}])}(),function(){"use strict";angular.module("numbleApp").factory("winService",function(){function e(e,t,n){return e+t===n}function t(e,t,n){return e*t===n}function n(n){for(var r=n.length,o=r-1,u=[],c=1;o>c;c++)for(var i=o-c;i>0;i--){var l,a,s;l=a=s=0;for(var f=c-1;f>=0;f--)l+=n[c-f-1]*Math.pow(10,f);for(var p=i-1;p>=0;p--)a+=n[i-p-1+c]*Math.pow(10,p);for(var m=i+c;r>m;m++)s+=n[m]*Math.pow(10,r-m-1);e(l,a,s)&&u.push(l+"+"+a+"="+s),t(l,a,s)&&u.push(l+"*"+a+"="+s)}return u}function r(e){var t=e.length-2;if(1>=t)return t;for(var n=1,r=0,o=2;t>o;o++){var u=n;n+=r,r=u}return n}return{check:n,getScore:r}})}();